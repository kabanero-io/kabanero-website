sudo: required

language: ruby
rvm:
  - 2.6.3

services:
  - docker

install:
  - gem install bundle
  - bundle install
script:
  - docker build -t  kidusimage  -f travis/Dockerfile .
  - docker run -ti -d --name imgname kidusimage /bin/bash bundle install
  - docker cp src/main/content/_assets/js  imgname:/home/jekyll/src/main/content/_assets/
 # - exec -it imgname /bin/bash -c "src/main/content/_assets/js/*.js"
  - exec -it imgname /bin/bash -c "./node_modules/.bin/eslint src/main/content/_assets/js/*.js"