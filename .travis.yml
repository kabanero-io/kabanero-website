sudo: required

services:
  - docker

before_install:
  - docker build -t  kidusimage  -f travis/Dockerfile .
  - docker run -ti -d --name imgname kidusimage  

install:
  - gem install bundle
  - bundle install

stages:
  - name: Linting test
    if: type IN (push)

jobs:
  include:
    - stage: "Linting test"
      name: "Running lint testing"
      script:
        - docker exec -it imgname bash -c "./node_modules/.bin/eslint src/main/content/_assets/js/*.js"
      after_script:
        - exit
